{
	"title": "API Monitoring",
	"panels": [
		{
			"title": "Requests Rate (RPS)",
			"type": "graph",
			"targets": [
				{
					"expr": "rate(http_requests_total[1m])",
					"legendFormat": "{{route}} ({{method}})"
				}
			]
		},
		{
			"title": "Error Rate",
			"type": "graph",
			"targets": [
				{
					"expr": "sum(rate(http_requests_total{status=~\"5..\"}[1m])) by (route, method)",
					"legendFormat": "{{route}} ({{method}})"
				}
			]
		},
		{
			"title": "Top Popular Posts",
			"type": "table",
			"targets": [
				{
					"expr": "topk(5, post_views_total)"
				}
			]
		},
		{
			"title": "API Latency (ms)",
			"type": "heatmap",
			"targets": [
				{
					"expr": "histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[1m])) by (le, route))"
				}
			]
		}
	]
}
